---
layout: single
title: "CrewAI로 만든 태양광 발전 효율 계산기"
categories: [tech]
tags: [CrewAI, 태양광, 에이전트, Python]
classes: wide
---

## 서론: 프로젝트 동기
태양광 발전 효율은 일사량, 온도, 패널 사양 등 여러 요소에 의해 결정됩니다.  
기존 계산은 입력이 복잡하고 자동화가 어려워 **간단하게 “질문 → 결과” 흐름으로 계산할 수 있는 도구**가 필요했습니다.  
그래서 CrewAI 기반으로 **각 단계별 역할을 분리한 계산 파이프라인**을 만들고, 사용자가 편하게 결과를 얻을 수 있도록 설계했습니다.

## 주요 기능: 에이전트 구성
- **Input Parser Agent**: 사용자 입력(위치, 패널 사양, 조건)을 구조화  
- **Irradiance Estimator Agent**: 시간/위치 기반 일사량 추정  
- **Efficiency Calculator Agent**: 발전 효율 및 기대 발전량 계산  
- **Report Summarizer Agent**: 결과 요약 및 해석 제공  

## 코드: 핵심 파이썬 예시
```python
from crewai import Agent, Crew, Task

parser = Agent(
    role="Input Parser",
    goal="사용자 입력을 구조화된 파라미터로 변환",
)

irradiance = Agent(
    role="Irradiance Estimator",
    goal="일사량과 기상 조건을 기반으로 입력 데이터 생성",
)

calculator = Agent(
    role="Efficiency Calculator",
    goal="패널 효율과 조건을 바탕으로 발전량 계산",
)

summarizer = Agent(
    role="Report Summarizer",
    goal="결과를 한눈에 보기 쉽게 요약",
)

tasks = [
    Task(description="사용자 입력을 구조화한다", agent=parser),
    Task(description="일사량 추정치를 계산한다", agent=irradiance),
    Task(description="발전 효율 및 발전량을 계산한다", agent=calculator),
    Task(description="결과 요약 리포트를 생성한다", agent=summarizer),
]

crew = Crew(agents=[parser, irradiance, calculator, summarizer], tasks=tasks)
result = crew.kickoff()
print(result)
```

## 마무리: 향후 계획
- 실시간 기상 API 연동으로 **정확도 개선**
- 지역별 패널 데이터베이스 추가
- 웹 UI 제공으로 **비개발자도 쉽게 사용 가능**
- 월간/연간 리포트 기능 확장
